@model IEnumerable<Assignment_C_4.Models.SanPham>

@{
    ViewData["Title"] = "ShowListProduct";
     List<string> extensions = new List<string>()
    {
        ".png", ".jpg", ".jpeg", ".gif", ".pdf", ".raw", ".bmp", ".tif"
    };
}

<h1>Danh Sách Sản Phẩm</h1>

<p>
    <a asp-action="CreateSP">Create New</a>
</p>
<table class="table">
    <thead>
        <tr>
            <th>
Tên Sản Phẩm            </th>
            <th>
Màu            </th>
            <th>
Kích Cỡ            </th>
            <th>
Giá Bán            </th>
            <th>
Giá Nhập            </th>
            <th>
Số Lượng Tồn            </th>
            <th>
Hình Ảnh            </th>
            <th>
Trạng Thái            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.TenSP)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Mau)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.KichCo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.GiaBan)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.GiaNhap)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SoLongTon)
            </td>
            <td>
                @{string a = System.IO.Path.GetExtension(item.HinhAnh);}
                    @if(@extensions.Contains(System.IO.Path.GetExtension(item.HinhAnh).Trim()))
                    {
                        <img src="/images/@item.HinhAnh" height="100">
                    }
                    else
                    {
                        <span>Ảnh lỗi rồi =)))</span>                       
                    }
            </td>
            @{
            if (item.TrangThai==0)
                {
                    <td>Còn Hàng</td>
                }
               else{
                    <td>Hết Hàng</td>               
               }
               }
            <td>
                @Html.ActionLink("Edit", "EditSP", new {  id=item.ID  }) |
                @Html.ActionLink("Details", "Detail", new { id=item.ID  }) |
                @Html.ActionLink("Delete", "DeleteSP", new {  id=item.ID  })
            </td>
        </tr>
}
    </tbody>
</table>
